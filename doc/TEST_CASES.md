# 测试用例文档

## 1. 功能测试

| 模块 | 测试用例ID | 测试场景 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|------|------------|----------|----------|----------|----------|----------|------|
| 用户认证 | AUTH-001 | 用户登录成功 | 1. 用户已注册<br>2. 账号未被锁定 | 1. 输入正确的用户名和密码<br>2. 输入验证码<br>3. 点击登录 | 登录成功，返回token和用户信息 | | 通过 |
| 用户认证 | AUTH-002 | 用户登录失败-密码错误 | 1. 用户已注册 | 1. 输入正确的用户名和错误的密码<br>2. 输入验证码<br>3. 点击登录 | 登录失败，返回错误信息 | | 通过 |
| 用户管理 | USER-001 | 创建新用户 | 1. 管理员已登录<br>2. 用户名和邮箱未被使用 | 1. 填写用户信息<br>2. 点击保存 | 用户创建成功，返回用户ID | | 通过 |
| 用户管理 | USER-002 | 查询用户列表 | 1. 管理员已登录 | 1. 访问用户管理页面 | 返回用户列表数据 | | 通过 |
| 日志管理 | LOG-001 | 查看操作日志 | 1. 管理员已登录 | 1. 访问日志管理页面 | 返回操作日志列表 | | 通过 |

## 2. 边界测试

### 2.1 输入字段边界测试
- 用户名长度：最小1字符，最大50字符
- 密码强度：最少6字符，包含字母和数字
- 邮箱格式：符合RFC标准格式验证
- 手机号格式：中国手机号格式验证

### 2.2 数值边界测试
- 分页参数：页码最小值1，每页数量范围1-100
- ID参数：正整数验证

### 2.3 并发测试
- 多用户同时登录
- 多管理员同时操作用户数据

## 3. 性能测试

### 3.1 基准性能指标
- 单用户登录响应时间：< 500ms
- 用户列表查询响应时间：< 1000ms（1000条数据）
- 并发用户数：支持100并发

### 3.2 压力测试
- 逐步增加并发用户至系统极限
- 长时间运行稳定性测试（24小时）

### 3.3 负载测试
- 数据库负载测试
- API接口负载测试

## 4. 安全测试（OWASP Top 10）

### 4.1 注入攻击防护
- SQL注入测试
- NoSQL注入测试

### 4.2 身份验证失效防护
- 暴力破解防护测试
- 会话管理测试

### 4.3 敏感数据暴露防护
- 数据传输加密测试（HTTPS）
- 密码存储加密测试（MD5）

### 4.4 XML外部实体（XXE）防护
- XML解析安全测试

### 4.5 访问控制失效防护
- 越权访问测试
- 垂直权限测试
- 水平权限测试

### 4.6 安全配置错误
- 服务器安全头检测
- 不必要的服务端口检测

### 4.7 跨站脚本（XSS）防护
- 反射型XSS测试
- 存储型XSS测试

### 4.8 不安全的反序列化
- Java反序列化漏洞测试

### 4.9 使用含有已知漏洞的组件
- 依赖库漏洞扫描

### 4.10 日志和监控不足
- 操作日志记录完整性测试

## 5. 自动化测试框架

### 5.1 后端测试框架
- Junit：单元测试
- Mockito：模拟测试
- Spring Test：集成测试
- Jacoco：代码覆盖率统计

### 5.2 前端测试框架
- Jest：单元测试
- Cypress：端到端测试
- Vue Test Utils：Vue组件测试

### 5.3 API测试工具
- Postman：API测试
- Swagger：API文档和测试

### 5.4 性能测试工具
- JMeter：负载测试
- Gatling：压力测试

### 5.5 安全测试工具
- OWASP ZAP：安全漏洞扫描
- SonarQube：代码质量检测

## 6. 测试环境配置

### 6.1 硬件环境
- 服务器：4核CPU，8GB内存，100GB硬盘
- 数据库：H2（测试环境），MySQL（生产环境）

### 6.2 软件环境
- JDK 8+
- Node.js 12+
- Vue.js 2.6+
- Spring Boot 2.3+

### 6.3 网络环境
- 测试服务器局域网访问
- 生产环境公网访问

## 7. 覆盖率统计

### 7.1 代码覆盖率目标
- 行覆盖率：> 80%
- 分支覆盖率：> 70%
- 方法覆盖率：> 80%

### 7.2 覆盖率工具配置
```xml
<plugin>
    <groupId>org.jacoco</groupId>
    <artifactId>jacoco-maven-plugin</artifactId>
    <version>0.8.7</version>
    <executions>
        <execution>
            <goals>
                <goal>prepare-agent</goal>
            </goals>
        </execution>
        <execution>
            <id>report</id>
            <phase>test</phase>
            <goals>
                <goal>report</goal>
            </goals>
        </execution>
    </executions>
</plugin>
```

### 7.3 覆盖率报告
- 生成HTML格式覆盖率报告
- 集成到CI/CD流水线
